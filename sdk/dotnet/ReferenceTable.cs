// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Datadog
{
    /// <summary>
    /// Provides a Datadog Reference Table resource for cloud storage sources (S3, GCS, Azure). This can be used to create and manage Datadog reference tables that sync data from cloud storage. For setup instructions including granting Datadog read access to your cloud storage bucket, see the [Reference Tables documentation](https://docs.datadoghq.com/reference_tables/?tab=cloudstorage#create-a-reference-table).
    /// 
    /// ## Example Usage
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Datadog = Pulumi.Datadog;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     // Create a reference table from an S3 bucket
    ///     var s3Table = new Datadog.ReferenceTable("s3_table", new()
    ///     {
    ///         TableName = "products_catalog",
    ///         Description = "Product catalog synced from S3",
    ///         Source = "S3",
    ///         FileMetadata = new[]
    ///         {
    ///             
    ///             {
    ///                 { "syncEnabled", true },
    ///                 { "accessDetails", new[]
    ///                 {
    ///                     
    ///                     {
    ///                         { "awsDetail", new[]
    ///                         {
    ///                             
    ///                             {
    ///                                 { "awsAccountId", "123456789000" },
    ///                                 { "awsBucketName", "my-data-bucket" },
    ///                                 { "filePath", "reference-tables/products.csv" },
    ///                             },
    ///                         } },
    ///                     },
    ///                 } },
    ///             },
    ///         },
    ///         Schema = new[]
    ///         {
    ///             
    ///             {
    ///                 { "primaryKeys", new[]
    ///                 {
    ///                     "product_id",
    ///                 } },
    ///                 { "fields", new[]
    ///                 {
    ///                     
    ///                     {
    ///                         { "name", "product_id" },
    ///                         { "type", "STRING" },
    ///                     },
    ///                     
    ///                     {
    ///                         { "name", "product_name" },
    ///                         { "type", "STRING" },
    ///                     },
    ///                     
    ///                     {
    ///                         { "name", "category" },
    ///                         { "type", "STRING" },
    ///                     },
    ///                     
    ///                     {
    ///                         { "name", "price_cents" },
    ///                         { "type", "INT32" },
    ///                     },
    ///                 } },
    ///             },
    ///         },
    ///         Tags = new[]
    ///         {
    ///             "source:s3",
    ///             "team:catalog",
    ///             "env:production",
    ///         },
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## Import
    /// 
    /// The `pulumi import` command can be used, for example:
    /// 
    /// #!/bin/bash
    /// 
    /// Import an existing reference table by its UUID
    /// 
    /// ```sh
    /// $ pulumi import datadog:index/referenceTable:ReferenceTable imported_table "00000000-0000-0000-0000-000000000000"
    /// ```
    /// 
    /// After importing, add the resource configuration to your .tf file:
    /// 
    /// resource "datadog_reference_table" "imported_table" {
    /// 
    ///   table_name  = "existing_table"
    /// 
    ///   description = "Previously created table"
    /// 
    ///   source      = "S3"  # or "GCS" or "AZURE"
    /// 
    ///   file_metadata {
    /// 
    ///     sync_enabled = true
    ///     
    ///     access_details {
    ///     
    ///       aws_detail {
    ///     
    ///         aws_account_id  = "123456789000"
    ///     
    ///         aws_bucket_name = "existing-bucket"
    ///     
    ///         file_path       = "data/existing.csv"
    ///     
    ///       }
    ///     
    ///     }
    /// 
    ///   }
    /// 
    ///   schema {
    /// 
    ///     primary_keys = ["id"]
    ///     
    ///     fields {
    ///     
    ///       name = "id"
    ///     
    ///       type = "STRING"
    ///     
    ///     }
    ///     
    ///     fields {
    ///     
    ///       name = "value"
    ///     
    ///       type = "STRING"
    ///     
    ///     }
    /// 
    ///   }
    /// 
    ///   tags = ["imported:true"]
    /// 
    /// }
    /// </summary>
    [DatadogResourceType("datadog:index/referenceTable:ReferenceTable")]
    public partial class ReferenceTable : global::Pulumi.CustomResource
    {
        /// <summary>
        /// UUID of the user who created the reference table.
        /// </summary>
        [Output("createdBy")]
        public Output<string> CreatedBy { get; private set; } = null!;

        /// <summary>
        /// The description of the reference table.
        /// </summary>
        [Output("description")]
        public Output<string?> Description { get; private set; } = null!;

        /// <summary>
        /// Configuration for cloud storage file access and sync settings.
        /// </summary>
        [Output("fileMetadata")]
        public Output<Outputs.ReferenceTableFileMetadata?> FileMetadata { get; private set; } = null!;

        /// <summary>
        /// UUID of the user who last updated the reference table.
        /// </summary>
        [Output("lastUpdatedBy")]
        public Output<string> LastUpdatedBy { get; private set; } = null!;

        /// <summary>
        /// The number of successfully processed rows in the reference table.
        /// </summary>
        [Output("rowCount")]
        public Output<int> RowCount { get; private set; } = null!;

        /// <summary>
        /// The schema definition for the reference table, including field definitions and primary keys. Schema is only set on create; updates are derived from the file asynchronously.
        /// </summary>
        [Output("schema")]
        public Output<Outputs.ReferenceTableSchema?> Schema { get; private set; } = null!;

        /// <summary>
        /// The source type for the reference table. Valid values are `S3`, `GCS`, `AZURE`.
        /// </summary>
        [Output("source")]
        public Output<string> Source { get; private set; } = null!;

        /// <summary>
        /// The status of the reference table (e.g., DONE, PROCESSING, ERROR).
        /// </summary>
        [Output("status")]
        public Output<string> Status { get; private set; } = null!;

        /// <summary>
        /// The name of the reference table. This must be unique within your organization.
        /// </summary>
        [Output("tableName")]
        public Output<string> TableName { get; private set; } = null!;

        /// <summary>
        /// A list of tags to associate with the reference table.
        /// </summary>
        [Output("tags")]
        public Output<ImmutableArray<string>> Tags { get; private set; } = null!;

        /// <summary>
        /// The timestamp of the last update to the reference table in ISO 8601 format.
        /// </summary>
        [Output("updatedAt")]
        public Output<string> UpdatedAt { get; private set; } = null!;


        /// <summary>
        /// Create a ReferenceTable resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public ReferenceTable(string name, ReferenceTableArgs args, CustomResourceOptions? options = null)
            : base("datadog:index/referenceTable:ReferenceTable", name, args ?? new ReferenceTableArgs(), MakeResourceOptions(options, ""))
        {
        }

        private ReferenceTable(string name, Input<string> id, ReferenceTableState? state = null, CustomResourceOptions? options = null)
            : base("datadog:index/referenceTable:ReferenceTable", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing ReferenceTable resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static ReferenceTable Get(string name, Input<string> id, ReferenceTableState? state = null, CustomResourceOptions? options = null)
        {
            return new ReferenceTable(name, id, state, options);
        }
    }

    public sealed class ReferenceTableArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// The description of the reference table.
        /// </summary>
        [Input("description")]
        public Input<string>? Description { get; set; }

        /// <summary>
        /// Configuration for cloud storage file access and sync settings.
        /// </summary>
        [Input("fileMetadata")]
        public Input<Inputs.ReferenceTableFileMetadataArgs>? FileMetadata { get; set; }

        /// <summary>
        /// The schema definition for the reference table, including field definitions and primary keys. Schema is only set on create; updates are derived from the file asynchronously.
        /// </summary>
        [Input("schema")]
        public Input<Inputs.ReferenceTableSchemaArgs>? Schema { get; set; }

        /// <summary>
        /// The source type for the reference table. Valid values are `S3`, `GCS`, `AZURE`.
        /// </summary>
        [Input("source", required: true)]
        public Input<string> Source { get; set; } = null!;

        /// <summary>
        /// The name of the reference table. This must be unique within your organization.
        /// </summary>
        [Input("tableName", required: true)]
        public Input<string> TableName { get; set; } = null!;

        [Input("tags")]
        private InputList<string>? _tags;

        /// <summary>
        /// A list of tags to associate with the reference table.
        /// </summary>
        public InputList<string> Tags
        {
            get => _tags ?? (_tags = new InputList<string>());
            set => _tags = value;
        }

        public ReferenceTableArgs()
        {
        }
        public static new ReferenceTableArgs Empty => new ReferenceTableArgs();
    }

    public sealed class ReferenceTableState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// UUID of the user who created the reference table.
        /// </summary>
        [Input("createdBy")]
        public Input<string>? CreatedBy { get; set; }

        /// <summary>
        /// The description of the reference table.
        /// </summary>
        [Input("description")]
        public Input<string>? Description { get; set; }

        /// <summary>
        /// Configuration for cloud storage file access and sync settings.
        /// </summary>
        [Input("fileMetadata")]
        public Input<Inputs.ReferenceTableFileMetadataGetArgs>? FileMetadata { get; set; }

        /// <summary>
        /// UUID of the user who last updated the reference table.
        /// </summary>
        [Input("lastUpdatedBy")]
        public Input<string>? LastUpdatedBy { get; set; }

        /// <summary>
        /// The number of successfully processed rows in the reference table.
        /// </summary>
        [Input("rowCount")]
        public Input<int>? RowCount { get; set; }

        /// <summary>
        /// The schema definition for the reference table, including field definitions and primary keys. Schema is only set on create; updates are derived from the file asynchronously.
        /// </summary>
        [Input("schema")]
        public Input<Inputs.ReferenceTableSchemaGetArgs>? Schema { get; set; }

        /// <summary>
        /// The source type for the reference table. Valid values are `S3`, `GCS`, `AZURE`.
        /// </summary>
        [Input("source")]
        public Input<string>? Source { get; set; }

        /// <summary>
        /// The status of the reference table (e.g., DONE, PROCESSING, ERROR).
        /// </summary>
        [Input("status")]
        public Input<string>? Status { get; set; }

        /// <summary>
        /// The name of the reference table. This must be unique within your organization.
        /// </summary>
        [Input("tableName")]
        public Input<string>? TableName { get; set; }

        [Input("tags")]
        private InputList<string>? _tags;

        /// <summary>
        /// A list of tags to associate with the reference table.
        /// </summary>
        public InputList<string> Tags
        {
            get => _tags ?? (_tags = new InputList<string>());
            set => _tags = value;
        }

        /// <summary>
        /// The timestamp of the last update to the reference table in ISO 8601 format.
        /// </summary>
        [Input("updatedAt")]
        public Input<string>? UpdatedAt { get; set; }

        public ReferenceTableState()
        {
        }
        public static new ReferenceTableState Empty => new ReferenceTableState();
    }
}
