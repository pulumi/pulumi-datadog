// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "./types/input";
import * as outputs from "./types/output";
import * as utilities from "./utilities";

/**
 * Provides a Datadog Reference Table resource for cloud storage sources (S3, GCS, Azure). This can be used to create and manage Datadog reference tables that sync data from cloud storage. For setup instructions including granting Datadog read access to your cloud storage bucket, see the [Reference Tables documentation](https://docs.datadoghq.com/reference_tables/?tab=cloudstorage#create-a-reference-table).
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as datadog from "@pulumi/datadog";
 *
 * // Create a reference table from an S3 bucket
 * const s3Table = new datadog.ReferenceTable("s3_table", {
 *     tableName: "products_catalog",
 *     description: "Product catalog synced from S3",
 *     source: "S3",
 *     fileMetadata: [{
 *         syncEnabled: true,
 *         accessDetails: [{
 *             awsDetail: [{
 *                 awsAccountId: "123456789000",
 *                 awsBucketName: "my-data-bucket",
 *                 filePath: "reference-tables/products.csv",
 *             }],
 *         }],
 *     }],
 *     schema: [{
 *         primaryKeys: ["product_id"],
 *         fields: [
 *             {
 *                 name: "product_id",
 *                 type: "STRING",
 *             },
 *             {
 *                 name: "product_name",
 *                 type: "STRING",
 *             },
 *             {
 *                 name: "category",
 *                 type: "STRING",
 *             },
 *             {
 *                 name: "price_cents",
 *                 type: "INT32",
 *             },
 *         ],
 *     }],
 *     tags: [
 *         "source:s3",
 *         "team:catalog",
 *         "env:production",
 *     ],
 * });
 * ```
 *
 * ## Import
 *
 * The `pulumi import` command can be used, for example:
 *
 * #!/bin/bash
 *
 * Import an existing reference table by its UUID
 *
 * ```sh
 * $ pulumi import datadog:index/referenceTable:ReferenceTable imported_table "00000000-0000-0000-0000-000000000000"
 * ```
 *
 * After importing, add the resource configuration to your .tf file:
 *
 * resource "datadog_reference_table" "imported_table" {
 *
 *   table_name  = "existing_table"
 *
 *   description = "Previously created table"
 *
 *   source      = "S3"  # or "GCS" or "AZURE"
 *
 *   file_metadata {
 *
 *     sync_enabled = true
 *     
 *     access_details {
 *     
 *       aws_detail {
 *     
 *         aws_account_id  = "123456789000"
 *     
 *         aws_bucket_name = "existing-bucket"
 *     
 *         file_path       = "data/existing.csv"
 *     
 *       }
 *     
 *     }
 *
 *   }
 *
 *   schema {
 *
 *     primary_keys = ["id"]
 *     
 *     fields {
 *     
 *       name = "id"
 *     
 *       type = "STRING"
 *     
 *     }
 *     
 *     fields {
 *     
 *       name = "value"
 *     
 *       type = "STRING"
 *     
 *     }
 *
 *   }
 *
 *   tags = ["imported:true"]
 *
 * }
 */
export class ReferenceTable extends pulumi.CustomResource {
    /**
     * Get an existing ReferenceTable resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: ReferenceTableState, opts?: pulumi.CustomResourceOptions): ReferenceTable {
        return new ReferenceTable(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'datadog:index/referenceTable:ReferenceTable';

    /**
     * Returns true if the given object is an instance of ReferenceTable.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is ReferenceTable {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === ReferenceTable.__pulumiType;
    }

    /**
     * UUID of the user who created the reference table.
     */
    declare public /*out*/ readonly createdBy: pulumi.Output<string>;
    /**
     * The description of the reference table.
     */
    declare public readonly description: pulumi.Output<string | undefined>;
    /**
     * Configuration for cloud storage file access and sync settings.
     */
    declare public readonly fileMetadata: pulumi.Output<outputs.ReferenceTableFileMetadata | undefined>;
    /**
     * UUID of the user who last updated the reference table.
     */
    declare public /*out*/ readonly lastUpdatedBy: pulumi.Output<string>;
    /**
     * The number of successfully processed rows in the reference table.
     */
    declare public /*out*/ readonly rowCount: pulumi.Output<number>;
    /**
     * The schema definition for the reference table, including field definitions and primary keys. Schema is only set on create; updates are derived from the file asynchronously.
     */
    declare public readonly schema: pulumi.Output<outputs.ReferenceTableSchema | undefined>;
    /**
     * The source type for the reference table. Valid values are `S3`, `GCS`, `AZURE`.
     */
    declare public readonly source: pulumi.Output<string>;
    /**
     * The status of the reference table (e.g., DONE, PROCESSING, ERROR).
     */
    declare public /*out*/ readonly status: pulumi.Output<string>;
    /**
     * The name of the reference table. This must be unique within your organization.
     */
    declare public readonly tableName: pulumi.Output<string>;
    /**
     * A list of tags to associate with the reference table.
     */
    declare public readonly tags: pulumi.Output<string[] | undefined>;
    /**
     * The timestamp of the last update to the reference table in ISO 8601 format.
     */
    declare public /*out*/ readonly updatedAt: pulumi.Output<string>;

    /**
     * Create a ReferenceTable resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: ReferenceTableArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: ReferenceTableArgs | ReferenceTableState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as ReferenceTableState | undefined;
            resourceInputs["createdBy"] = state?.createdBy;
            resourceInputs["description"] = state?.description;
            resourceInputs["fileMetadata"] = state?.fileMetadata;
            resourceInputs["lastUpdatedBy"] = state?.lastUpdatedBy;
            resourceInputs["rowCount"] = state?.rowCount;
            resourceInputs["schema"] = state?.schema;
            resourceInputs["source"] = state?.source;
            resourceInputs["status"] = state?.status;
            resourceInputs["tableName"] = state?.tableName;
            resourceInputs["tags"] = state?.tags;
            resourceInputs["updatedAt"] = state?.updatedAt;
        } else {
            const args = argsOrState as ReferenceTableArgs | undefined;
            if (args?.source === undefined && !opts.urn) {
                throw new Error("Missing required property 'source'");
            }
            if (args?.tableName === undefined && !opts.urn) {
                throw new Error("Missing required property 'tableName'");
            }
            resourceInputs["description"] = args?.description;
            resourceInputs["fileMetadata"] = args?.fileMetadata;
            resourceInputs["schema"] = args?.schema;
            resourceInputs["source"] = args?.source;
            resourceInputs["tableName"] = args?.tableName;
            resourceInputs["tags"] = args?.tags;
            resourceInputs["createdBy"] = undefined /*out*/;
            resourceInputs["lastUpdatedBy"] = undefined /*out*/;
            resourceInputs["rowCount"] = undefined /*out*/;
            resourceInputs["status"] = undefined /*out*/;
            resourceInputs["updatedAt"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(ReferenceTable.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering ReferenceTable resources.
 */
export interface ReferenceTableState {
    /**
     * UUID of the user who created the reference table.
     */
    createdBy?: pulumi.Input<string>;
    /**
     * The description of the reference table.
     */
    description?: pulumi.Input<string>;
    /**
     * Configuration for cloud storage file access and sync settings.
     */
    fileMetadata?: pulumi.Input<inputs.ReferenceTableFileMetadata>;
    /**
     * UUID of the user who last updated the reference table.
     */
    lastUpdatedBy?: pulumi.Input<string>;
    /**
     * The number of successfully processed rows in the reference table.
     */
    rowCount?: pulumi.Input<number>;
    /**
     * The schema definition for the reference table, including field definitions and primary keys. Schema is only set on create; updates are derived from the file asynchronously.
     */
    schema?: pulumi.Input<inputs.ReferenceTableSchema>;
    /**
     * The source type for the reference table. Valid values are `S3`, `GCS`, `AZURE`.
     */
    source?: pulumi.Input<string>;
    /**
     * The status of the reference table (e.g., DONE, PROCESSING, ERROR).
     */
    status?: pulumi.Input<string>;
    /**
     * The name of the reference table. This must be unique within your organization.
     */
    tableName?: pulumi.Input<string>;
    /**
     * A list of tags to associate with the reference table.
     */
    tags?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * The timestamp of the last update to the reference table in ISO 8601 format.
     */
    updatedAt?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a ReferenceTable resource.
 */
export interface ReferenceTableArgs {
    /**
     * The description of the reference table.
     */
    description?: pulumi.Input<string>;
    /**
     * Configuration for cloud storage file access and sync settings.
     */
    fileMetadata?: pulumi.Input<inputs.ReferenceTableFileMetadata>;
    /**
     * The schema definition for the reference table, including field definitions and primary keys. Schema is only set on create; updates are derived from the file asynchronously.
     */
    schema?: pulumi.Input<inputs.ReferenceTableSchema>;
    /**
     * The source type for the reference table. Valid values are `S3`, `GCS`, `AZURE`.
     */
    source: pulumi.Input<string>;
    /**
     * The name of the reference table. This must be unique within your organization.
     */
    tableName: pulumi.Input<string>;
    /**
     * A list of tags to associate with the reference table.
     */
    tags?: pulumi.Input<pulumi.Input<string>[]>;
}
