// *** WARNING: this file was generated by pulumi-language-java. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.datadog;

import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import com.pulumi.datadog.TagPipelineRulesetsArgs;
import com.pulumi.datadog.Utilities;
import com.pulumi.datadog.inputs.TagPipelineRulesetsState;
import java.lang.Boolean;
import java.lang.String;
import java.util.List;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * Provides a Datadog Tag Pipeline Ruleset Order resource that can be used to manage the order of Tag Pipeline Rulesets.
 * 
 * ## Example Usage
 * 
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.datadog.TagPipelineRuleset;
 * import com.pulumi.datadog.TagPipelineRulesetArgs;
 * import com.pulumi.datadog.inputs.TagPipelineRulesetRuleArgs;
 * import com.pulumi.datadog.TagPipelineRulesets;
 * import com.pulumi.datadog.TagPipelineRulesetsArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         // ============================================================================
 *         // Example 1: Basic Usage - Manage the order of tag pipeline rulesets
 *         // ============================================================================
 *         // This example shows the default behavior where UI-defined rulesets that are
 *         // not in Terraform will be preserved at the end of the order.
 *         var first = new TagPipelineRuleset("first", TagPipelineRulesetArgs.builder()
 *             .name("Standardize Environment Tags")
 *             .enabled(true)
 *             .rules(TagPipelineRulesetRuleArgs.builder()
 *                 .name("map-env")
 *                 .enabled(true)
 *                 .mapping(TagPipelineRulesetRuleMappingArgs.builder()
 *                     .destinationKey("env")
 *                     .ifNotExists(true)
 *                     .sourceKeys(                    
 *                         "environment",
 *                         "stage")
 *                     .build())
 *                 .build())
 *             .build());
 * 
 *         var second = new TagPipelineRuleset("second", TagPipelineRulesetArgs.builder()
 *             .name("Assign Team Tags")
 *             .enabled(true)
 *             .rules(TagPipelineRulesetRuleArgs.builder()
 *                 .name("assign-team")
 *                 .enabled(true)
 *                 .query(TagPipelineRulesetRuleQueryArgs.builder()
 *                     .query("service:web* OR service:api*")
 *                     .ifNotExists(false)
 *                     .addition(TagPipelineRulesetRuleQueryAdditionArgs.builder()
 *                         .key("team")
 *                         .value("backend")
 *                         .build())
 *                     .build())
 *                 .build())
 *             .build());
 * 
 *         var third = new TagPipelineRuleset("third", TagPipelineRulesetArgs.builder()
 *             .name("Enrich Service Metadata")
 *             .enabled(true)
 *             .rules(TagPipelineRulesetRuleArgs.builder()
 *                 .name("lookup-service")
 *                 .enabled(true)
 *                 .referenceTable(TagPipelineRulesetRuleReferenceTableArgs.builder()
 *                     .tableName("service_catalog")
 *                     .caseInsensitivity(true)
 *                     .ifNotExists(true)
 *                     .sourceKeys("service")
 *                     .fieldPairs(TagPipelineRulesetRuleReferenceTableFieldPairArgs.builder()
 *                         .inputColumn("owner_team")
 *                         .outputKey("owner")
 *                         .build())
 *                     .build())
 *                 .build())
 *             .build());
 * 
 *         // Manage the order of tag pipeline rulesets
 *         // Rulesets are executed in the order specified in ruleset_ids
 *         // UI-defined rulesets not in this list will be preserved at the end
 *         var order = new TagPipelineRulesets("order", TagPipelineRulesetsArgs.builder()
 *             .rulesetIds(            
 *                 first.id(),
 *                 second.id(),
 *                 third.id())
 *             .build());
 * 
 *         // ============================================================================
 *         // Example 2: Override UI-defined rulesets (override_ui_defined_resources = true)
 *         // ============================================================================
 *         // When set to true, any rulesets created via the UI that are not defined in Terraform
 *         // will be automatically deleted during pulumi up.
 *         var managedFirst = new TagPipelineRuleset("managedFirst", TagPipelineRulesetArgs.builder()
 *             .name("Standardize Environment Tags")
 *             .enabled(true)
 *             .rules(TagPipelineRulesetRuleArgs.builder()
 *                 .name("map-env")
 *                 .enabled(true)
 *                 .mapping(TagPipelineRulesetRuleMappingArgs.builder()
 *                     .destinationKey("env")
 *                     .ifNotExists(true)
 *                     .sourceKeys(                    
 *                         "environment",
 *                         "stage")
 *                     .build())
 *                 .build())
 *             .build());
 * 
 *         var managedSecond = new TagPipelineRuleset("managedSecond", TagPipelineRulesetArgs.builder()
 *             .name("Assign Team Tags")
 *             .enabled(true)
 *             .rules(TagPipelineRulesetRuleArgs.builder()
 *                 .name("assign-team")
 *                 .enabled(true)
 *                 .query(TagPipelineRulesetRuleQueryArgs.builder()
 *                     .query("service:web*")
 *                     .ifNotExists(false)
 *                     .addition(TagPipelineRulesetRuleQueryAdditionArgs.builder()
 *                         .key("team")
 *                         .value("frontend")
 *                         .build())
 *                     .build())
 *                 .build())
 *             .build());
 * 
 *         // Manage order with override_ui_defined_resources = true
 *         // This will delete any rulesets created via the UI that are not in this list
 *         var orderOverride = new TagPipelineRulesets("orderOverride", TagPipelineRulesetsArgs.builder()
 *             .overrideUiDefinedResources(true)
 *             .rulesetIds(            
 *                 managedFirst.id(),
 *                 managedSecond.id())
 *             .build());
 * 
 *         // ============================================================================
 *         // Example 3: Preserve UI-defined rulesets (override_ui_defined_resources = false)
 *         // ============================================================================
 *         // When set to false (default), UI-defined rulesets that are not in Terraform
 *         // will be preserved at the end of the order. However, if unmanaged rulesets
 *         // are in the middle of the order, Terraform will error and require you to either:
 *         // 1. Import the unmanaged rulesets
 *         // 2. Set override_ui_defined_resources = true
 *         // 3. Manually reorder or delete them in the Datadog UI
 *         var preserveFirst = new TagPipelineRuleset("preserveFirst", TagPipelineRulesetArgs.builder()
 *             .name("Standardize Environment Tags")
 *             .enabled(true)
 *             .rules(TagPipelineRulesetRuleArgs.builder()
 *                 .name("map-env")
 *                 .enabled(true)
 *                 .mapping(TagPipelineRulesetRuleMappingArgs.builder()
 *                     .destinationKey("env")
 *                     .ifNotExists(true)
 *                     .sourceKeys(                    
 *                         "environment",
 *                         "stage")
 *                     .build())
 *                 .build())
 *             .build());
 * 
 *         var preserveSecond = new TagPipelineRuleset("preserveSecond", TagPipelineRulesetArgs.builder()
 *             .name("Assign Team Tags")
 *             .enabled(true)
 *             .rules(TagPipelineRulesetRuleArgs.builder()
 *                 .name("assign-team")
 *                 .enabled(true)
 *                 .query(TagPipelineRulesetRuleQueryArgs.builder()
 *                     .query("service:web*")
 *                     .ifNotExists(false)
 *                     .addition(TagPipelineRulesetRuleQueryAdditionArgs.builder()
 *                         .key("team")
 *                         .value("frontend")
 *                         .build())
 *                     .build())
 *                 .build())
 *             .build());
 * 
 *         // Manage order with override_ui_defined_resources = false (default)
 *         // UI-defined rulesets will be preserved at the end of the order
 *         // Terraform will warn if unmanaged rulesets exist at the end
 *         // Terraform will error if unmanaged rulesets are in the middle
 *         var orderPreserve = new TagPipelineRulesets("orderPreserve", TagPipelineRulesetsArgs.builder()
 *             .overrideUiDefinedResources(false)
 *             .rulesetIds(            
 *                 preserveFirst.id(),
 *                 preserveSecond.id())
 *             .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * 
 * ## Import
 * 
 * The `pulumi import` command can be used, for example:
 * 
 * ```sh
 * $ pulumi import datadog:index/tagPipelineRulesets:TagPipelineRulesets my_rulesets order
 * ```
 * 
 */
@ResourceType(type="datadog:index/tagPipelineRulesets:TagPipelineRulesets")
public class TagPipelineRulesets extends com.pulumi.resources.CustomResource {
    @Export(name="overrideUiDefinedResources", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> overrideUiDefinedResources;

    public Output<Optional<Boolean>> overrideUiDefinedResources() {
        return Codegen.optional(this.overrideUiDefinedResources);
    }
    /**
     * The list of Tag Pipeline Ruleset IDs, in order. Rulesets are executed in the order specified in this list.
     * 
     */
    @Export(name="rulesetIds", refs={List.class,String.class}, tree="[0,1]")
    private Output<List<String>> rulesetIds;

    /**
     * @return The list of Tag Pipeline Ruleset IDs, in order. Rulesets are executed in the order specified in this list.
     * 
     */
    public Output<List<String>> rulesetIds() {
        return this.rulesetIds;
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public TagPipelineRulesets(java.lang.String name) {
        this(name, TagPipelineRulesetsArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public TagPipelineRulesets(java.lang.String name, TagPipelineRulesetsArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public TagPipelineRulesets(java.lang.String name, TagPipelineRulesetsArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("datadog:index/tagPipelineRulesets:TagPipelineRulesets", name, makeArgs(args, options), makeResourceOptions(options, Codegen.empty()), false);
    }

    private TagPipelineRulesets(java.lang.String name, Output<java.lang.String> id, @Nullable TagPipelineRulesetsState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("datadog:index/tagPipelineRulesets:TagPipelineRulesets", name, state, makeResourceOptions(options, id), false);
    }

    private static TagPipelineRulesetsArgs makeArgs(TagPipelineRulesetsArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        if (options != null && options.getUrn().isPresent()) {
            return null;
        }
        return args == null ? TagPipelineRulesetsArgs.Empty : args;
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<java.lang.String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static TagPipelineRulesets get(java.lang.String name, Output<java.lang.String> id, @Nullable TagPipelineRulesetsState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new TagPipelineRulesets(name, id, state, options);
    }
}
