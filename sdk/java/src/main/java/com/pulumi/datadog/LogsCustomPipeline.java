// *** WARNING: this file was generated by pulumi-java-gen. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.datadog;

import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import com.pulumi.datadog.LogsCustomPipelineArgs;
import com.pulumi.datadog.Utilities;
import com.pulumi.datadog.inputs.LogsCustomPipelineState;
import com.pulumi.datadog.outputs.LogsCustomPipelineFilter;
import com.pulumi.datadog.outputs.LogsCustomPipelineProcessor;
import java.lang.Boolean;
import java.lang.String;
import java.util.List;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * Provides a Datadog [Logs Pipeline API](https://docs.datadoghq.com/api/v1/logs-pipelines/) resource, which is used to create and manage Datadog logs custom pipelines. Each `datadog.LogsCustomPipeline` resource defines a complete pipeline. The order of the pipelines is maintained in a different resource: `datadog.LogsPipelineOrder`. When creating a new pipeline, you need to **explicitly** add this pipeline to the `datadog.LogsPipelineOrder` resource to track the pipeline. Similarly, when a pipeline needs to be destroyed, remove its references from the `datadog.LogsPipelineOrder` resource.
 * 
 * ## Example Usage
 * 
 * &lt;!--Start PulumiCodeChooser --&gt;
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.datadog.LogsCustomPipeline;
 * import com.pulumi.datadog.LogsCustomPipelineArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineFilterArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorArithmeticProcessorArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorAttributeRemapperArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorCategoryProcessorArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorDateRemapperArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorGeoIpParserArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorGrokParserArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorGrokParserGrokArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorLookupProcessorArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorMessageRemapperArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorPipelineArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorServiceRemapperArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorStatusRemapperArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorStringBuilderProcessorArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorTraceIdRemapperArgs;
 * import com.pulumi.datadog.inputs.LogsCustomPipelineProcessorUserAgentParserArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App }{{@code
 *     public static void main(String[] args) }{{@code
 *         Pulumi.run(App::stack);
 *     }}{@code
 * 
 *     public static void stack(Context ctx) }{{@code
 *         var samplePipeline = new LogsCustomPipeline("samplePipeline", LogsCustomPipelineArgs.builder()
 *             .filters(LogsCustomPipelineFilterArgs.builder()
 *                 .query("source:foo")
 *                 .build())
 *             .name("sample pipeline")
 *             .isEnabled(true)
 *             .processors(            
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .arithmeticProcessor(LogsCustomPipelineProcessorArithmeticProcessorArgs.builder()
 *                         .expression("(time1 - time2)*1000")
 *                         .target("my_arithmetic")
 *                         .isReplaceMissing(true)
 *                         .name("sample arithmetic processor")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .attributeRemapper(LogsCustomPipelineProcessorAttributeRemapperArgs.builder()
 *                         .sources("db.instance")
 *                         .sourceType("tag")
 *                         .target("db")
 *                         .targetType("attribute")
 *                         .targetFormat("string")
 *                         .preserveSource(true)
 *                         .overrideOnConflict(false)
 *                         .name("sample attribute processor")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .categoryProcessor(LogsCustomPipelineProcessorCategoryProcessorArgs.builder()
 *                         .target("foo.severity")
 *                         .categories(                        
 *                             LogsCustomPipelineProcessorCategoryProcessorCategoryArgs.builder()
 *                                 .name("debug")
 *                                 .filter(LogsCustomPipelineProcessorCategoryProcessorCategoryFilterArgs.builder()
 *                                     .query("}{@literal @}{@code severity: \".\"")
 *                                     .build())
 *                                 .build(),
 *                             LogsCustomPipelineProcessorCategoryProcessorCategoryArgs.builder()
 *                                 .name("verbose")
 *                                 .filter(LogsCustomPipelineProcessorCategoryProcessorCategoryFilterArgs.builder()
 *                                     .query("}{@literal @}{@code severity: \"-\"")
 *                                     .build())
 *                                 .build())
 *                         .name("sample category processor")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .dateRemapper(LogsCustomPipelineProcessorDateRemapperArgs.builder()
 *                         .sources(                        
 *                             "_timestamp",
 *                             "published_date")
 *                         .name("sample date remapper")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .geoIpParser(LogsCustomPipelineProcessorGeoIpParserArgs.builder()
 *                         .sources("network.client.ip")
 *                         .target("network.client.geoip")
 *                         .name("sample geo ip parser")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .grokParser(LogsCustomPipelineProcessorGrokParserArgs.builder()
 *                         .samples("sample log 1")
 *                         .source("message")
 *                         .grok(LogsCustomPipelineProcessorGrokParserGrokArgs.builder()
 *                             .supportRules("")
 *                             .matchRules("Rule %}{{@code word:my_word2}}{@code  %}{{@code number:my_float2}}{@code ")
 *                             .build())
 *                         .name("sample grok parser")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .lookupProcessor(LogsCustomPipelineProcessorLookupProcessorArgs.builder()
 *                         .source("service_id")
 *                         .target("service_name")
 *                         .lookupTables("1,my service")
 *                         .defaultLookup("unknown service")
 *                         .name("sample lookup processor")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .messageRemapper(LogsCustomPipelineProcessorMessageRemapperArgs.builder()
 *                         .sources("msg")
 *                         .name("sample message remapper")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .pipeline(LogsCustomPipelineProcessorPipelineArgs.builder()
 *                         .filters(LogsCustomPipelineProcessorPipelineFilterArgs.builder()
 *                             .query("source:foo")
 *                             .build())
 *                         .processors(LogsCustomPipelineProcessorPipelineProcessorArgs.builder()
 *                             .urlParser(LogsCustomPipelineProcessorPipelineProcessorUrlParserArgs.builder()
 *                                 .name("sample url parser")
 *                                 .sources(                                
 *                                     "url",
 *                                     "extra")
 *                                 .target("http_url")
 *                                 .normalizeEndingSlashes(true)
 *                                 .build())
 *                             .build())
 *                         .name("nested pipeline")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .serviceRemapper(LogsCustomPipelineProcessorServiceRemapperArgs.builder()
 *                         .sources("service")
 *                         .name("sample service remapper")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .statusRemapper(LogsCustomPipelineProcessorStatusRemapperArgs.builder()
 *                         .sources(                        
 *                             "info",
 *                             "trace")
 *                         .name("sample status remapper")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .stringBuilderProcessor(LogsCustomPipelineProcessorStringBuilderProcessorArgs.builder()
 *                         .target("user_activity")
 *                         .template("%}{{@code user.name}}{@code  logged in at %}{{@code timestamp}}{@code ")
 *                         .name("sample string builder processor")
 *                         .isEnabled(true)
 *                         .isReplaceMissing(false)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .traceIdRemapper(LogsCustomPipelineProcessorTraceIdRemapperArgs.builder()
 *                         .sources("dd.trace_id")
 *                         .name("sample trace id remapper")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build(),
 *                 LogsCustomPipelineProcessorArgs.builder()
 *                     .userAgentParser(LogsCustomPipelineProcessorUserAgentParserArgs.builder()
 *                         .sources(                        
 *                             "user",
 *                             "agent")
 *                         .target("http_agent")
 *                         .isEncoded(false)
 *                         .name("sample user agent parser")
 *                         .isEnabled(true)
 *                         .build())
 *                     .build())
 *             .build());
 * 
 *     }}{@code
 * }}{@code
 * }
 * </pre>
 * &lt;!--End PulumiCodeChooser --&gt;
 * 
 * ## Import
 * 
 * To find the pipeline ID, click the &#34;edit&#34; button in the UI to open the pipeline details.
 * 
 * The pipeline ID is the last part of the URL.
 * 
 * ```sh
 * $ pulumi import datadog:index/logsCustomPipeline:LogsCustomPipeline name&gt; &lt;pipelineID&gt;
 * ```
 * 
 */
@ResourceType(type="datadog:index/logsCustomPipeline:LogsCustomPipeline")
public class LogsCustomPipeline extends com.pulumi.resources.CustomResource {
    @Export(name="filters", refs={List.class,LogsCustomPipelineFilter.class}, tree="[0,1]")
    private Output<List<LogsCustomPipelineFilter>> filters;

    public Output<List<LogsCustomPipelineFilter>> filters() {
        return this.filters;
    }
    @Export(name="isEnabled", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> isEnabled;

    public Output<Optional<Boolean>> isEnabled() {
        return Codegen.optional(this.isEnabled);
    }
    @Export(name="name", refs={String.class}, tree="[0]")
    private Output<String> name;

    public Output<String> name() {
        return this.name;
    }
    @Export(name="processors", refs={List.class,LogsCustomPipelineProcessor.class}, tree="[0,1]")
    private Output</* @Nullable */ List<LogsCustomPipelineProcessor>> processors;

    public Output<Optional<List<LogsCustomPipelineProcessor>>> processors() {
        return Codegen.optional(this.processors);
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public LogsCustomPipeline(java.lang.String name) {
        this(name, LogsCustomPipelineArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public LogsCustomPipeline(java.lang.String name, LogsCustomPipelineArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public LogsCustomPipeline(java.lang.String name, LogsCustomPipelineArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("datadog:index/logsCustomPipeline:LogsCustomPipeline", name, makeArgs(args, options), makeResourceOptions(options, Codegen.empty()), false);
    }

    private LogsCustomPipeline(java.lang.String name, Output<java.lang.String> id, @Nullable LogsCustomPipelineState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("datadog:index/logsCustomPipeline:LogsCustomPipeline", name, state, makeResourceOptions(options, id), false);
    }

    private static LogsCustomPipelineArgs makeArgs(LogsCustomPipelineArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        if (options != null && options.getUrn().isPresent()) {
            return null;
        }
        return args == null ? LogsCustomPipelineArgs.Empty : args;
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<java.lang.String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static LogsCustomPipeline get(java.lang.String name, Output<java.lang.String> id, @Nullable LogsCustomPipelineState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new LogsCustomPipeline(name, id, state, options);
    }
}
