// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package datadog

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-datadog/sdk/v4/go/datadog/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Use this data source to retrieve information about an existing custom allocation rule.
func LookupCustomAllocationRule(ctx *pulumi.Context, args *LookupCustomAllocationRuleArgs, opts ...pulumi.InvokeOption) (*LookupCustomAllocationRuleResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv LookupCustomAllocationRuleResult
	err := ctx.Invoke("datadog:index/getCustomAllocationRule:getCustomAllocationRule", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getCustomAllocationRule.
type LookupCustomAllocationRuleArgs struct {
	CostsToAllocates []GetCustomAllocationRuleCostsToAllocate `pulumi:"costsToAllocates"`
	// The ID of the custom allocation rule to retrieve.
	RuleId   *int                             `pulumi:"ruleId"`
	Strategy *GetCustomAllocationRuleStrategy `pulumi:"strategy"`
}

// A collection of values returned by getCustomAllocationRule.
type LookupCustomAllocationRuleResult struct {
	CostsToAllocates []GetCustomAllocationRuleCostsToAllocate `pulumi:"costsToAllocates"`
	// The timestamp (in ISO 8601 format) when the rule was created.
	Created string `pulumi:"created"`
	// Whether the custom allocation rule is enabled.
	Enabled bool `pulumi:"enabled"`
	// The ID of this resource.
	Id string `pulumi:"id"`
	// The UUID of the user who last modified the rule.
	LastModifiedUserUuid string `pulumi:"lastModifiedUserUuid"`
	// The order of the rule in the list of custom allocation rules.
	OrderId int `pulumi:"orderId"`
	// List of cloud providers the rule applies to (e.g., `aws`, `azure`, `gcp`).
	Providernames []string `pulumi:"providernames"`
	// Whether the rule was rejected by Datadog due to runtime errors. This field can be updated well after the rule was created. If rejected this rule is treated as disabled until modified where the rejection status is reset.
	Rejected bool `pulumi:"rejected"`
	// The ID of the custom allocation rule to retrieve.
	RuleId *int `pulumi:"ruleId"`
	// The unique name of the custom allocation rule.
	RuleName string                           `pulumi:"ruleName"`
	Strategy *GetCustomAllocationRuleStrategy `pulumi:"strategy"`
	// The type of the custom allocation rule. This is always `shared` currently.
	Type string `pulumi:"type"`
	// The timestamp (in ISO 8601 format) when the rule was last updated.
	Updated string `pulumi:"updated"`
	// The version number of the rule.
	Version string `pulumi:"version"`
}

func LookupCustomAllocationRuleOutput(ctx *pulumi.Context, args LookupCustomAllocationRuleOutputArgs, opts ...pulumi.InvokeOption) LookupCustomAllocationRuleResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (LookupCustomAllocationRuleResultOutput, error) {
			args := v.(LookupCustomAllocationRuleArgs)
			options := pulumi.InvokeOutputOptions{InvokeOptions: internal.PkgInvokeDefaultOpts(opts)}
			return ctx.InvokeOutput("datadog:index/getCustomAllocationRule:getCustomAllocationRule", args, LookupCustomAllocationRuleResultOutput{}, options).(LookupCustomAllocationRuleResultOutput), nil
		}).(LookupCustomAllocationRuleResultOutput)
}

// A collection of arguments for invoking getCustomAllocationRule.
type LookupCustomAllocationRuleOutputArgs struct {
	CostsToAllocates GetCustomAllocationRuleCostsToAllocateArrayInput `pulumi:"costsToAllocates"`
	// The ID of the custom allocation rule to retrieve.
	RuleId   pulumi.IntPtrInput                      `pulumi:"ruleId"`
	Strategy GetCustomAllocationRuleStrategyPtrInput `pulumi:"strategy"`
}

func (LookupCustomAllocationRuleOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupCustomAllocationRuleArgs)(nil)).Elem()
}

// A collection of values returned by getCustomAllocationRule.
type LookupCustomAllocationRuleResultOutput struct{ *pulumi.OutputState }

func (LookupCustomAllocationRuleResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*LookupCustomAllocationRuleResult)(nil)).Elem()
}

func (o LookupCustomAllocationRuleResultOutput) ToLookupCustomAllocationRuleResultOutput() LookupCustomAllocationRuleResultOutput {
	return o
}

func (o LookupCustomAllocationRuleResultOutput) ToLookupCustomAllocationRuleResultOutputWithContext(ctx context.Context) LookupCustomAllocationRuleResultOutput {
	return o
}

func (o LookupCustomAllocationRuleResultOutput) CostsToAllocates() GetCustomAllocationRuleCostsToAllocateArrayOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) []GetCustomAllocationRuleCostsToAllocate {
		return v.CostsToAllocates
	}).(GetCustomAllocationRuleCostsToAllocateArrayOutput)
}

// The timestamp (in ISO 8601 format) when the rule was created.
func (o LookupCustomAllocationRuleResultOutput) Created() pulumi.StringOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) string { return v.Created }).(pulumi.StringOutput)
}

// Whether the custom allocation rule is enabled.
func (o LookupCustomAllocationRuleResultOutput) Enabled() pulumi.BoolOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) bool { return v.Enabled }).(pulumi.BoolOutput)
}

// The ID of this resource.
func (o LookupCustomAllocationRuleResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) string { return v.Id }).(pulumi.StringOutput)
}

// The UUID of the user who last modified the rule.
func (o LookupCustomAllocationRuleResultOutput) LastModifiedUserUuid() pulumi.StringOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) string { return v.LastModifiedUserUuid }).(pulumi.StringOutput)
}

// The order of the rule in the list of custom allocation rules.
func (o LookupCustomAllocationRuleResultOutput) OrderId() pulumi.IntOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) int { return v.OrderId }).(pulumi.IntOutput)
}

// List of cloud providers the rule applies to (e.g., `aws`, `azure`, `gcp`).
func (o LookupCustomAllocationRuleResultOutput) Providernames() pulumi.StringArrayOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) []string { return v.Providernames }).(pulumi.StringArrayOutput)
}

// Whether the rule was rejected by Datadog due to runtime errors. This field can be updated well after the rule was created. If rejected this rule is treated as disabled until modified where the rejection status is reset.
func (o LookupCustomAllocationRuleResultOutput) Rejected() pulumi.BoolOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) bool { return v.Rejected }).(pulumi.BoolOutput)
}

// The ID of the custom allocation rule to retrieve.
func (o LookupCustomAllocationRuleResultOutput) RuleId() pulumi.IntPtrOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) *int { return v.RuleId }).(pulumi.IntPtrOutput)
}

// The unique name of the custom allocation rule.
func (o LookupCustomAllocationRuleResultOutput) RuleName() pulumi.StringOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) string { return v.RuleName }).(pulumi.StringOutput)
}

func (o LookupCustomAllocationRuleResultOutput) Strategy() GetCustomAllocationRuleStrategyPtrOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) *GetCustomAllocationRuleStrategy { return v.Strategy }).(GetCustomAllocationRuleStrategyPtrOutput)
}

// The type of the custom allocation rule. This is always `shared` currently.
func (o LookupCustomAllocationRuleResultOutput) Type() pulumi.StringOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) string { return v.Type }).(pulumi.StringOutput)
}

// The timestamp (in ISO 8601 format) when the rule was last updated.
func (o LookupCustomAllocationRuleResultOutput) Updated() pulumi.StringOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) string { return v.Updated }).(pulumi.StringOutput)
}

// The version number of the rule.
func (o LookupCustomAllocationRuleResultOutput) Version() pulumi.StringOutput {
	return o.ApplyT(func(v LookupCustomAllocationRuleResult) string { return v.Version }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterOutputType(LookupCustomAllocationRuleResultOutput{})
}
