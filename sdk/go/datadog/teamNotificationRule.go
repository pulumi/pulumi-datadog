// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package datadog

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-datadog/sdk/v4/go/datadog/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Datadog team notification rule resource. This can be used to create and manage notification rules for Datadog teams.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-datadog/sdk/v4/go/datadog"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// Create new team-notification-rule resource
//			foo, err := datadog.NewTeam(ctx, "foo", &datadog.TeamArgs{
//				Description: pulumi.String("Example team"),
//				Handle:      pulumi.String("example-team"),
//				Name:        pulumi.String("Example Team"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = datadog.NewTeamNotificationRule(ctx, "foo", &datadog.TeamNotificationRuleArgs{
//				TeamId: foo.ID(),
//				Email: datadog.TeamNotificationRuleEmailArgs{
//					map[string]interface{}{
//						"enabled": true,
//					},
//				},
//				MsTeams: datadog.TeamNotificationRuleMsTeamsArgs{
//					map[string]interface{}{
//						"connectorName": "test-teams-handle",
//					},
//				},
//				Pagerduty: datadog.TeamNotificationRulePagerdutyArgs{
//					map[string]interface{}{
//						"serviceName": "my-service",
//					},
//				},
//				Slack: datadog.TeamNotificationRuleSlackArgs{
//					map[string]interface{}{
//						"channel":   "#test-channel",
//						"workspace": "Datadog",
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// The `pulumi import` command can be used, for example:
//
// This resource is imported using teamId and ruleId separated by `:`.
//
// ```sh
// $ pulumi import datadog:index/teamNotificationRule:TeamNotificationRule foo "${team_id}:${rule_id}"
// ```
type TeamNotificationRule struct {
	pulumi.CustomResourceState

	// The email notification settings.
	Email TeamNotificationRuleEmailPtrOutput `pulumi:"email"`
	// The MS Teams notification settings.
	MsTeams TeamNotificationRuleMsTeamsPtrOutput `pulumi:"msTeams"`
	// The PagerDuty notification settings.
	Pagerduty TeamNotificationRulePagerdutyPtrOutput `pulumi:"pagerduty"`
	// The Slack notification settings.
	Slack TeamNotificationRuleSlackPtrOutput `pulumi:"slack"`
	// The ID of the team that this notification rule belongs to.
	TeamId pulumi.StringOutput `pulumi:"teamId"`
}

// NewTeamNotificationRule registers a new resource with the given unique name, arguments, and options.
func NewTeamNotificationRule(ctx *pulumi.Context,
	name string, args *TeamNotificationRuleArgs, opts ...pulumi.ResourceOption) (*TeamNotificationRule, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.TeamId == nil {
		return nil, errors.New("invalid value for required argument 'TeamId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource TeamNotificationRule
	err := ctx.RegisterResource("datadog:index/teamNotificationRule:TeamNotificationRule", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetTeamNotificationRule gets an existing TeamNotificationRule resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetTeamNotificationRule(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *TeamNotificationRuleState, opts ...pulumi.ResourceOption) (*TeamNotificationRule, error) {
	var resource TeamNotificationRule
	err := ctx.ReadResource("datadog:index/teamNotificationRule:TeamNotificationRule", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering TeamNotificationRule resources.
type teamNotificationRuleState struct {
	// The email notification settings.
	Email *TeamNotificationRuleEmail `pulumi:"email"`
	// The MS Teams notification settings.
	MsTeams *TeamNotificationRuleMsTeams `pulumi:"msTeams"`
	// The PagerDuty notification settings.
	Pagerduty *TeamNotificationRulePagerduty `pulumi:"pagerduty"`
	// The Slack notification settings.
	Slack *TeamNotificationRuleSlack `pulumi:"slack"`
	// The ID of the team that this notification rule belongs to.
	TeamId *string `pulumi:"teamId"`
}

type TeamNotificationRuleState struct {
	// The email notification settings.
	Email TeamNotificationRuleEmailPtrInput
	// The MS Teams notification settings.
	MsTeams TeamNotificationRuleMsTeamsPtrInput
	// The PagerDuty notification settings.
	Pagerduty TeamNotificationRulePagerdutyPtrInput
	// The Slack notification settings.
	Slack TeamNotificationRuleSlackPtrInput
	// The ID of the team that this notification rule belongs to.
	TeamId pulumi.StringPtrInput
}

func (TeamNotificationRuleState) ElementType() reflect.Type {
	return reflect.TypeOf((*teamNotificationRuleState)(nil)).Elem()
}

type teamNotificationRuleArgs struct {
	// The email notification settings.
	Email *TeamNotificationRuleEmail `pulumi:"email"`
	// The MS Teams notification settings.
	MsTeams *TeamNotificationRuleMsTeams `pulumi:"msTeams"`
	// The PagerDuty notification settings.
	Pagerduty *TeamNotificationRulePagerduty `pulumi:"pagerduty"`
	// The Slack notification settings.
	Slack *TeamNotificationRuleSlack `pulumi:"slack"`
	// The ID of the team that this notification rule belongs to.
	TeamId string `pulumi:"teamId"`
}

// The set of arguments for constructing a TeamNotificationRule resource.
type TeamNotificationRuleArgs struct {
	// The email notification settings.
	Email TeamNotificationRuleEmailPtrInput
	// The MS Teams notification settings.
	MsTeams TeamNotificationRuleMsTeamsPtrInput
	// The PagerDuty notification settings.
	Pagerduty TeamNotificationRulePagerdutyPtrInput
	// The Slack notification settings.
	Slack TeamNotificationRuleSlackPtrInput
	// The ID of the team that this notification rule belongs to.
	TeamId pulumi.StringInput
}

func (TeamNotificationRuleArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*teamNotificationRuleArgs)(nil)).Elem()
}

type TeamNotificationRuleInput interface {
	pulumi.Input

	ToTeamNotificationRuleOutput() TeamNotificationRuleOutput
	ToTeamNotificationRuleOutputWithContext(ctx context.Context) TeamNotificationRuleOutput
}

func (*TeamNotificationRule) ElementType() reflect.Type {
	return reflect.TypeOf((**TeamNotificationRule)(nil)).Elem()
}

func (i *TeamNotificationRule) ToTeamNotificationRuleOutput() TeamNotificationRuleOutput {
	return i.ToTeamNotificationRuleOutputWithContext(context.Background())
}

func (i *TeamNotificationRule) ToTeamNotificationRuleOutputWithContext(ctx context.Context) TeamNotificationRuleOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TeamNotificationRuleOutput)
}

// TeamNotificationRuleArrayInput is an input type that accepts TeamNotificationRuleArray and TeamNotificationRuleArrayOutput values.
// You can construct a concrete instance of `TeamNotificationRuleArrayInput` via:
//
//	TeamNotificationRuleArray{ TeamNotificationRuleArgs{...} }
type TeamNotificationRuleArrayInput interface {
	pulumi.Input

	ToTeamNotificationRuleArrayOutput() TeamNotificationRuleArrayOutput
	ToTeamNotificationRuleArrayOutputWithContext(context.Context) TeamNotificationRuleArrayOutput
}

type TeamNotificationRuleArray []TeamNotificationRuleInput

func (TeamNotificationRuleArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*TeamNotificationRule)(nil)).Elem()
}

func (i TeamNotificationRuleArray) ToTeamNotificationRuleArrayOutput() TeamNotificationRuleArrayOutput {
	return i.ToTeamNotificationRuleArrayOutputWithContext(context.Background())
}

func (i TeamNotificationRuleArray) ToTeamNotificationRuleArrayOutputWithContext(ctx context.Context) TeamNotificationRuleArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TeamNotificationRuleArrayOutput)
}

// TeamNotificationRuleMapInput is an input type that accepts TeamNotificationRuleMap and TeamNotificationRuleMapOutput values.
// You can construct a concrete instance of `TeamNotificationRuleMapInput` via:
//
//	TeamNotificationRuleMap{ "key": TeamNotificationRuleArgs{...} }
type TeamNotificationRuleMapInput interface {
	pulumi.Input

	ToTeamNotificationRuleMapOutput() TeamNotificationRuleMapOutput
	ToTeamNotificationRuleMapOutputWithContext(context.Context) TeamNotificationRuleMapOutput
}

type TeamNotificationRuleMap map[string]TeamNotificationRuleInput

func (TeamNotificationRuleMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*TeamNotificationRule)(nil)).Elem()
}

func (i TeamNotificationRuleMap) ToTeamNotificationRuleMapOutput() TeamNotificationRuleMapOutput {
	return i.ToTeamNotificationRuleMapOutputWithContext(context.Background())
}

func (i TeamNotificationRuleMap) ToTeamNotificationRuleMapOutputWithContext(ctx context.Context) TeamNotificationRuleMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(TeamNotificationRuleMapOutput)
}

type TeamNotificationRuleOutput struct{ *pulumi.OutputState }

func (TeamNotificationRuleOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**TeamNotificationRule)(nil)).Elem()
}

func (o TeamNotificationRuleOutput) ToTeamNotificationRuleOutput() TeamNotificationRuleOutput {
	return o
}

func (o TeamNotificationRuleOutput) ToTeamNotificationRuleOutputWithContext(ctx context.Context) TeamNotificationRuleOutput {
	return o
}

// The email notification settings.
func (o TeamNotificationRuleOutput) Email() TeamNotificationRuleEmailPtrOutput {
	return o.ApplyT(func(v *TeamNotificationRule) TeamNotificationRuleEmailPtrOutput { return v.Email }).(TeamNotificationRuleEmailPtrOutput)
}

// The MS Teams notification settings.
func (o TeamNotificationRuleOutput) MsTeams() TeamNotificationRuleMsTeamsPtrOutput {
	return o.ApplyT(func(v *TeamNotificationRule) TeamNotificationRuleMsTeamsPtrOutput { return v.MsTeams }).(TeamNotificationRuleMsTeamsPtrOutput)
}

// The PagerDuty notification settings.
func (o TeamNotificationRuleOutput) Pagerduty() TeamNotificationRulePagerdutyPtrOutput {
	return o.ApplyT(func(v *TeamNotificationRule) TeamNotificationRulePagerdutyPtrOutput { return v.Pagerduty }).(TeamNotificationRulePagerdutyPtrOutput)
}

// The Slack notification settings.
func (o TeamNotificationRuleOutput) Slack() TeamNotificationRuleSlackPtrOutput {
	return o.ApplyT(func(v *TeamNotificationRule) TeamNotificationRuleSlackPtrOutput { return v.Slack }).(TeamNotificationRuleSlackPtrOutput)
}

// The ID of the team that this notification rule belongs to.
func (o TeamNotificationRuleOutput) TeamId() pulumi.StringOutput {
	return o.ApplyT(func(v *TeamNotificationRule) pulumi.StringOutput { return v.TeamId }).(pulumi.StringOutput)
}

type TeamNotificationRuleArrayOutput struct{ *pulumi.OutputState }

func (TeamNotificationRuleArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*TeamNotificationRule)(nil)).Elem()
}

func (o TeamNotificationRuleArrayOutput) ToTeamNotificationRuleArrayOutput() TeamNotificationRuleArrayOutput {
	return o
}

func (o TeamNotificationRuleArrayOutput) ToTeamNotificationRuleArrayOutputWithContext(ctx context.Context) TeamNotificationRuleArrayOutput {
	return o
}

func (o TeamNotificationRuleArrayOutput) Index(i pulumi.IntInput) TeamNotificationRuleOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *TeamNotificationRule {
		return vs[0].([]*TeamNotificationRule)[vs[1].(int)]
	}).(TeamNotificationRuleOutput)
}

type TeamNotificationRuleMapOutput struct{ *pulumi.OutputState }

func (TeamNotificationRuleMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*TeamNotificationRule)(nil)).Elem()
}

func (o TeamNotificationRuleMapOutput) ToTeamNotificationRuleMapOutput() TeamNotificationRuleMapOutput {
	return o
}

func (o TeamNotificationRuleMapOutput) ToTeamNotificationRuleMapOutputWithContext(ctx context.Context) TeamNotificationRuleMapOutput {
	return o
}

func (o TeamNotificationRuleMapOutput) MapIndex(k pulumi.StringInput) TeamNotificationRuleOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *TeamNotificationRule {
		return vs[0].(map[string]*TeamNotificationRule)[vs[1].(string)]
	}).(TeamNotificationRuleOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*TeamNotificationRuleInput)(nil)).Elem(), &TeamNotificationRule{})
	pulumi.RegisterInputType(reflect.TypeOf((*TeamNotificationRuleArrayInput)(nil)).Elem(), TeamNotificationRuleArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*TeamNotificationRuleMapInput)(nil)).Elem(), TeamNotificationRuleMap{})
	pulumi.RegisterOutputType(TeamNotificationRuleOutput{})
	pulumi.RegisterOutputType(TeamNotificationRuleArrayOutput{})
	pulumi.RegisterOutputType(TeamNotificationRuleMapOutput{})
}
