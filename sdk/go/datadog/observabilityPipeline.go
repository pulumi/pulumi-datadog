// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package datadog

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-datadog/sdk/v4/go/datadog/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Datadog Observability Pipeline resource. Observability Pipelines allows you to collect and process logs within your own infrastructure, and then route them to downstream integrations. This resource is in **Preview**. Reach out to Datadog support to enable it for your account.
//
// Datadog recommends using the `-parallelism=1` option to apply this resource.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-datadog/sdk/v4/go/datadog"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := datadog.NewObservabilityPipeline(ctx, "test", &datadog.ObservabilityPipelineArgs{
//				Name: pulumi.String("test pipeline"),
//				Config: &datadog.ObservabilityPipelineConfigArgs{
//					Sources: datadog.ObservabilityPipelineConfigSourceArray{
//						&datadog.ObservabilityPipelineConfigSourceArgs{
//							Kafka: []map[string]interface{}{
//								map[string]interface{}{
//									"id":      "source-1",
//									"groupId": "my-consumer-group",
//									"topics": []string{
//										"my-topic-1",
//										"my-topic-2",
//									},
//									"tls": []map[string]interface{}{
//										map[string]interface{}{
//											"crtFile": "/etc/certs/client.crt",
//											"keyFile": "/etc/certs/client.key",
//											"caFile":  "/etc/certs/ca.crt",
//										},
//									},
//									"sasl": []map[string]interface{}{
//										map[string]interface{}{
//											"mechanism": "SCRAM-SHA-512",
//										},
//									},
//									"librdkafkaOption": []map[string]interface{}{
//										map[string]interface{}{
//											"name":  "fetch.message.max.bytes",
//											"value": "1048576",
//										},
//										map[string]interface{}{
//											"name":  "socket.timeout.ms",
//											"value": "500",
//										},
//									},
//								},
//							},
//						},
//					},
//					Processors: []map[string]interface{}{
//						map[string]interface{}{
//							"parseJson": []map[string]interface{}{
//								map[string]interface{}{
//									"id":      "filter-1",
//									"include": "service:nginx",
//									"field":   "message2",
//									"inputs": []string{
//										"source-1",
//									},
//								},
//								map[string]interface{}{
//									"id":      "filter-3",
//									"include": "service:nginx",
//									"field":   "message",
//									"inputs": []string{
//										"filter-2",
//									},
//								},
//							},
//							"filter": []map[string]interface{}{
//								map[string]interface{}{
//									"id":      "filter-2",
//									"include": "service:nginx",
//									"inputs": []string{
//										"filter-1",
//									},
//								},
//							},
//						},
//					},
//					Destinations: datadog.ObservabilityPipelineConfigDestinationArray{
//						&datadog.ObservabilityPipelineConfigDestinationArgs{
//							DatadogLogs: datadog.ObservabilityPipelineConfigDestinationDatadogLogArray{
//								&datadog.ObservabilityPipelineConfigDestinationDatadogLogArgs{
//									Id: "sink-1",
//									Inputs: []string{
//										"filter-3",
//									},
//								},
//							},
//						},
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// The `pulumi import` command can be used, for example:
//
// ```sh
// $ pulumi import datadog:index/observabilityPipeline:ObservabilityPipeline example_pipeline 8beabbc4-1f4d-11f0-942b-da7ad0900001
// ```
type ObservabilityPipeline struct {
	pulumi.CustomResourceState

	// Configuration for the pipeline.
	Config ObservabilityPipelineConfigOutput `pulumi:"config"`
	// The pipeline name.
	Name pulumi.StringOutput `pulumi:"name"`
}

// NewObservabilityPipeline registers a new resource with the given unique name, arguments, and options.
func NewObservabilityPipeline(ctx *pulumi.Context,
	name string, args *ObservabilityPipelineArgs, opts ...pulumi.ResourceOption) (*ObservabilityPipeline, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Config == nil {
		return nil, errors.New("invalid value for required argument 'Config'")
	}
	if args.Name == nil {
		return nil, errors.New("invalid value for required argument 'Name'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ObservabilityPipeline
	err := ctx.RegisterResource("datadog:index/observabilityPipeline:ObservabilityPipeline", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetObservabilityPipeline gets an existing ObservabilityPipeline resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetObservabilityPipeline(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ObservabilityPipelineState, opts ...pulumi.ResourceOption) (*ObservabilityPipeline, error) {
	var resource ObservabilityPipeline
	err := ctx.ReadResource("datadog:index/observabilityPipeline:ObservabilityPipeline", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ObservabilityPipeline resources.
type observabilityPipelineState struct {
	// Configuration for the pipeline.
	Config *ObservabilityPipelineConfig `pulumi:"config"`
	// The pipeline name.
	Name *string `pulumi:"name"`
}

type ObservabilityPipelineState struct {
	// Configuration for the pipeline.
	Config ObservabilityPipelineConfigPtrInput
	// The pipeline name.
	Name pulumi.StringPtrInput
}

func (ObservabilityPipelineState) ElementType() reflect.Type {
	return reflect.TypeOf((*observabilityPipelineState)(nil)).Elem()
}

type observabilityPipelineArgs struct {
	// Configuration for the pipeline.
	Config ObservabilityPipelineConfig `pulumi:"config"`
	// The pipeline name.
	Name string `pulumi:"name"`
}

// The set of arguments for constructing a ObservabilityPipeline resource.
type ObservabilityPipelineArgs struct {
	// Configuration for the pipeline.
	Config ObservabilityPipelineConfigInput
	// The pipeline name.
	Name pulumi.StringInput
}

func (ObservabilityPipelineArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*observabilityPipelineArgs)(nil)).Elem()
}

type ObservabilityPipelineInput interface {
	pulumi.Input

	ToObservabilityPipelineOutput() ObservabilityPipelineOutput
	ToObservabilityPipelineOutputWithContext(ctx context.Context) ObservabilityPipelineOutput
}

func (*ObservabilityPipeline) ElementType() reflect.Type {
	return reflect.TypeOf((**ObservabilityPipeline)(nil)).Elem()
}

func (i *ObservabilityPipeline) ToObservabilityPipelineOutput() ObservabilityPipelineOutput {
	return i.ToObservabilityPipelineOutputWithContext(context.Background())
}

func (i *ObservabilityPipeline) ToObservabilityPipelineOutputWithContext(ctx context.Context) ObservabilityPipelineOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ObservabilityPipelineOutput)
}

// ObservabilityPipelineArrayInput is an input type that accepts ObservabilityPipelineArray and ObservabilityPipelineArrayOutput values.
// You can construct a concrete instance of `ObservabilityPipelineArrayInput` via:
//
//	ObservabilityPipelineArray{ ObservabilityPipelineArgs{...} }
type ObservabilityPipelineArrayInput interface {
	pulumi.Input

	ToObservabilityPipelineArrayOutput() ObservabilityPipelineArrayOutput
	ToObservabilityPipelineArrayOutputWithContext(context.Context) ObservabilityPipelineArrayOutput
}

type ObservabilityPipelineArray []ObservabilityPipelineInput

func (ObservabilityPipelineArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ObservabilityPipeline)(nil)).Elem()
}

func (i ObservabilityPipelineArray) ToObservabilityPipelineArrayOutput() ObservabilityPipelineArrayOutput {
	return i.ToObservabilityPipelineArrayOutputWithContext(context.Background())
}

func (i ObservabilityPipelineArray) ToObservabilityPipelineArrayOutputWithContext(ctx context.Context) ObservabilityPipelineArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ObservabilityPipelineArrayOutput)
}

// ObservabilityPipelineMapInput is an input type that accepts ObservabilityPipelineMap and ObservabilityPipelineMapOutput values.
// You can construct a concrete instance of `ObservabilityPipelineMapInput` via:
//
//	ObservabilityPipelineMap{ "key": ObservabilityPipelineArgs{...} }
type ObservabilityPipelineMapInput interface {
	pulumi.Input

	ToObservabilityPipelineMapOutput() ObservabilityPipelineMapOutput
	ToObservabilityPipelineMapOutputWithContext(context.Context) ObservabilityPipelineMapOutput
}

type ObservabilityPipelineMap map[string]ObservabilityPipelineInput

func (ObservabilityPipelineMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ObservabilityPipeline)(nil)).Elem()
}

func (i ObservabilityPipelineMap) ToObservabilityPipelineMapOutput() ObservabilityPipelineMapOutput {
	return i.ToObservabilityPipelineMapOutputWithContext(context.Background())
}

func (i ObservabilityPipelineMap) ToObservabilityPipelineMapOutputWithContext(ctx context.Context) ObservabilityPipelineMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ObservabilityPipelineMapOutput)
}

type ObservabilityPipelineOutput struct{ *pulumi.OutputState }

func (ObservabilityPipelineOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ObservabilityPipeline)(nil)).Elem()
}

func (o ObservabilityPipelineOutput) ToObservabilityPipelineOutput() ObservabilityPipelineOutput {
	return o
}

func (o ObservabilityPipelineOutput) ToObservabilityPipelineOutputWithContext(ctx context.Context) ObservabilityPipelineOutput {
	return o
}

// Configuration for the pipeline.
func (o ObservabilityPipelineOutput) Config() ObservabilityPipelineConfigOutput {
	return o.ApplyT(func(v *ObservabilityPipeline) ObservabilityPipelineConfigOutput { return v.Config }).(ObservabilityPipelineConfigOutput)
}

// The pipeline name.
func (o ObservabilityPipelineOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *ObservabilityPipeline) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

type ObservabilityPipelineArrayOutput struct{ *pulumi.OutputState }

func (ObservabilityPipelineArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ObservabilityPipeline)(nil)).Elem()
}

func (o ObservabilityPipelineArrayOutput) ToObservabilityPipelineArrayOutput() ObservabilityPipelineArrayOutput {
	return o
}

func (o ObservabilityPipelineArrayOutput) ToObservabilityPipelineArrayOutputWithContext(ctx context.Context) ObservabilityPipelineArrayOutput {
	return o
}

func (o ObservabilityPipelineArrayOutput) Index(i pulumi.IntInput) ObservabilityPipelineOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ObservabilityPipeline {
		return vs[0].([]*ObservabilityPipeline)[vs[1].(int)]
	}).(ObservabilityPipelineOutput)
}

type ObservabilityPipelineMapOutput struct{ *pulumi.OutputState }

func (ObservabilityPipelineMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ObservabilityPipeline)(nil)).Elem()
}

func (o ObservabilityPipelineMapOutput) ToObservabilityPipelineMapOutput() ObservabilityPipelineMapOutput {
	return o
}

func (o ObservabilityPipelineMapOutput) ToObservabilityPipelineMapOutputWithContext(ctx context.Context) ObservabilityPipelineMapOutput {
	return o
}

func (o ObservabilityPipelineMapOutput) MapIndex(k pulumi.StringInput) ObservabilityPipelineOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ObservabilityPipeline {
		return vs[0].(map[string]*ObservabilityPipeline)[vs[1].(string)]
	}).(ObservabilityPipelineOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ObservabilityPipelineInput)(nil)).Elem(), &ObservabilityPipeline{})
	pulumi.RegisterInputType(reflect.TypeOf((*ObservabilityPipelineArrayInput)(nil)).Elem(), ObservabilityPipelineArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ObservabilityPipelineMapInput)(nil)).Elem(), ObservabilityPipelineMap{})
	pulumi.RegisterOutputType(ObservabilityPipelineOutput{})
	pulumi.RegisterOutputType(ObservabilityPipelineArrayOutput{})
	pulumi.RegisterOutputType(ObservabilityPipelineMapOutput{})
}
