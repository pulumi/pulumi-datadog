// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package datadog

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-datadog/sdk/v4/go/datadog/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Datadog Log Restriction Query resource. This can be used to create and manage Datadog Log Restriction Queries.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-datadog/sdk/v4/go/datadog"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// Manage a Datadog log restriction query
//			_, err := datadog.NewLogsRestrictionQuery(ctx, "test_lrq", &datadog.LogsRestrictionQueryArgs{
//				RestrictionQuery: pulumi.String("service:foo"),
//				RoleIds: pulumi.StringArray{
//					pulumi.String("00000000-0000-1111-0000-000000000000"),
//					pulumi.String("11111111-1111-0000-1111-111111111111"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// The `pulumi import` command can be used, for example:
//
// ```sh
// $ pulumi import datadog:index/logsRestrictionQuery:LogsRestrictionQuery test_lrq "<restriction_query_id>"
// ```
type LogsRestrictionQuery struct {
	pulumi.CustomResourceState

	// Creation time of the restriction query (in ISO 8601).
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// Time of last restriction query modification (in ISO 8601).
	ModifiedAt pulumi.StringOutput `pulumi:"modifiedAt"`
	// The query that defines the restriction. Only the content matching the query can be returned.
	RestrictionQuery pulumi.StringOutput `pulumi:"restrictionQuery"`
	// An array of role IDs that have access to this restriction query.
	RoleIds pulumi.StringArrayOutput `pulumi:"roleIds"`
}

// NewLogsRestrictionQuery registers a new resource with the given unique name, arguments, and options.
func NewLogsRestrictionQuery(ctx *pulumi.Context,
	name string, args *LogsRestrictionQueryArgs, opts ...pulumi.ResourceOption) (*LogsRestrictionQuery, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.RestrictionQuery == nil {
		return nil, errors.New("invalid value for required argument 'RestrictionQuery'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource LogsRestrictionQuery
	err := ctx.RegisterResource("datadog:index/logsRestrictionQuery:LogsRestrictionQuery", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetLogsRestrictionQuery gets an existing LogsRestrictionQuery resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetLogsRestrictionQuery(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *LogsRestrictionQueryState, opts ...pulumi.ResourceOption) (*LogsRestrictionQuery, error) {
	var resource LogsRestrictionQuery
	err := ctx.ReadResource("datadog:index/logsRestrictionQuery:LogsRestrictionQuery", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering LogsRestrictionQuery resources.
type logsRestrictionQueryState struct {
	// Creation time of the restriction query (in ISO 8601).
	CreatedAt *string `pulumi:"createdAt"`
	// Time of last restriction query modification (in ISO 8601).
	ModifiedAt *string `pulumi:"modifiedAt"`
	// The query that defines the restriction. Only the content matching the query can be returned.
	RestrictionQuery *string `pulumi:"restrictionQuery"`
	// An array of role IDs that have access to this restriction query.
	RoleIds []string `pulumi:"roleIds"`
}

type LogsRestrictionQueryState struct {
	// Creation time of the restriction query (in ISO 8601).
	CreatedAt pulumi.StringPtrInput
	// Time of last restriction query modification (in ISO 8601).
	ModifiedAt pulumi.StringPtrInput
	// The query that defines the restriction. Only the content matching the query can be returned.
	RestrictionQuery pulumi.StringPtrInput
	// An array of role IDs that have access to this restriction query.
	RoleIds pulumi.StringArrayInput
}

func (LogsRestrictionQueryState) ElementType() reflect.Type {
	return reflect.TypeOf((*logsRestrictionQueryState)(nil)).Elem()
}

type logsRestrictionQueryArgs struct {
	// The query that defines the restriction. Only the content matching the query can be returned.
	RestrictionQuery string `pulumi:"restrictionQuery"`
	// An array of role IDs that have access to this restriction query.
	RoleIds []string `pulumi:"roleIds"`
}

// The set of arguments for constructing a LogsRestrictionQuery resource.
type LogsRestrictionQueryArgs struct {
	// The query that defines the restriction. Only the content matching the query can be returned.
	RestrictionQuery pulumi.StringInput
	// An array of role IDs that have access to this restriction query.
	RoleIds pulumi.StringArrayInput
}

func (LogsRestrictionQueryArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*logsRestrictionQueryArgs)(nil)).Elem()
}

type LogsRestrictionQueryInput interface {
	pulumi.Input

	ToLogsRestrictionQueryOutput() LogsRestrictionQueryOutput
	ToLogsRestrictionQueryOutputWithContext(ctx context.Context) LogsRestrictionQueryOutput
}

func (*LogsRestrictionQuery) ElementType() reflect.Type {
	return reflect.TypeOf((**LogsRestrictionQuery)(nil)).Elem()
}

func (i *LogsRestrictionQuery) ToLogsRestrictionQueryOutput() LogsRestrictionQueryOutput {
	return i.ToLogsRestrictionQueryOutputWithContext(context.Background())
}

func (i *LogsRestrictionQuery) ToLogsRestrictionQueryOutputWithContext(ctx context.Context) LogsRestrictionQueryOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LogsRestrictionQueryOutput)
}

// LogsRestrictionQueryArrayInput is an input type that accepts LogsRestrictionQueryArray and LogsRestrictionQueryArrayOutput values.
// You can construct a concrete instance of `LogsRestrictionQueryArrayInput` via:
//
//	LogsRestrictionQueryArray{ LogsRestrictionQueryArgs{...} }
type LogsRestrictionQueryArrayInput interface {
	pulumi.Input

	ToLogsRestrictionQueryArrayOutput() LogsRestrictionQueryArrayOutput
	ToLogsRestrictionQueryArrayOutputWithContext(context.Context) LogsRestrictionQueryArrayOutput
}

type LogsRestrictionQueryArray []LogsRestrictionQueryInput

func (LogsRestrictionQueryArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*LogsRestrictionQuery)(nil)).Elem()
}

func (i LogsRestrictionQueryArray) ToLogsRestrictionQueryArrayOutput() LogsRestrictionQueryArrayOutput {
	return i.ToLogsRestrictionQueryArrayOutputWithContext(context.Background())
}

func (i LogsRestrictionQueryArray) ToLogsRestrictionQueryArrayOutputWithContext(ctx context.Context) LogsRestrictionQueryArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LogsRestrictionQueryArrayOutput)
}

// LogsRestrictionQueryMapInput is an input type that accepts LogsRestrictionQueryMap and LogsRestrictionQueryMapOutput values.
// You can construct a concrete instance of `LogsRestrictionQueryMapInput` via:
//
//	LogsRestrictionQueryMap{ "key": LogsRestrictionQueryArgs{...} }
type LogsRestrictionQueryMapInput interface {
	pulumi.Input

	ToLogsRestrictionQueryMapOutput() LogsRestrictionQueryMapOutput
	ToLogsRestrictionQueryMapOutputWithContext(context.Context) LogsRestrictionQueryMapOutput
}

type LogsRestrictionQueryMap map[string]LogsRestrictionQueryInput

func (LogsRestrictionQueryMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*LogsRestrictionQuery)(nil)).Elem()
}

func (i LogsRestrictionQueryMap) ToLogsRestrictionQueryMapOutput() LogsRestrictionQueryMapOutput {
	return i.ToLogsRestrictionQueryMapOutputWithContext(context.Background())
}

func (i LogsRestrictionQueryMap) ToLogsRestrictionQueryMapOutputWithContext(ctx context.Context) LogsRestrictionQueryMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(LogsRestrictionQueryMapOutput)
}

type LogsRestrictionQueryOutput struct{ *pulumi.OutputState }

func (LogsRestrictionQueryOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**LogsRestrictionQuery)(nil)).Elem()
}

func (o LogsRestrictionQueryOutput) ToLogsRestrictionQueryOutput() LogsRestrictionQueryOutput {
	return o
}

func (o LogsRestrictionQueryOutput) ToLogsRestrictionQueryOutputWithContext(ctx context.Context) LogsRestrictionQueryOutput {
	return o
}

// Creation time of the restriction query (in ISO 8601).
func (o LogsRestrictionQueryOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *LogsRestrictionQuery) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// Time of last restriction query modification (in ISO 8601).
func (o LogsRestrictionQueryOutput) ModifiedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *LogsRestrictionQuery) pulumi.StringOutput { return v.ModifiedAt }).(pulumi.StringOutput)
}

// The query that defines the restriction. Only the content matching the query can be returned.
func (o LogsRestrictionQueryOutput) RestrictionQuery() pulumi.StringOutput {
	return o.ApplyT(func(v *LogsRestrictionQuery) pulumi.StringOutput { return v.RestrictionQuery }).(pulumi.StringOutput)
}

// An array of role IDs that have access to this restriction query.
func (o LogsRestrictionQueryOutput) RoleIds() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *LogsRestrictionQuery) pulumi.StringArrayOutput { return v.RoleIds }).(pulumi.StringArrayOutput)
}

type LogsRestrictionQueryArrayOutput struct{ *pulumi.OutputState }

func (LogsRestrictionQueryArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*LogsRestrictionQuery)(nil)).Elem()
}

func (o LogsRestrictionQueryArrayOutput) ToLogsRestrictionQueryArrayOutput() LogsRestrictionQueryArrayOutput {
	return o
}

func (o LogsRestrictionQueryArrayOutput) ToLogsRestrictionQueryArrayOutputWithContext(ctx context.Context) LogsRestrictionQueryArrayOutput {
	return o
}

func (o LogsRestrictionQueryArrayOutput) Index(i pulumi.IntInput) LogsRestrictionQueryOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *LogsRestrictionQuery {
		return vs[0].([]*LogsRestrictionQuery)[vs[1].(int)]
	}).(LogsRestrictionQueryOutput)
}

type LogsRestrictionQueryMapOutput struct{ *pulumi.OutputState }

func (LogsRestrictionQueryMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*LogsRestrictionQuery)(nil)).Elem()
}

func (o LogsRestrictionQueryMapOutput) ToLogsRestrictionQueryMapOutput() LogsRestrictionQueryMapOutput {
	return o
}

func (o LogsRestrictionQueryMapOutput) ToLogsRestrictionQueryMapOutputWithContext(ctx context.Context) LogsRestrictionQueryMapOutput {
	return o
}

func (o LogsRestrictionQueryMapOutput) MapIndex(k pulumi.StringInput) LogsRestrictionQueryOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *LogsRestrictionQuery {
		return vs[0].(map[string]*LogsRestrictionQuery)[vs[1].(string)]
	}).(LogsRestrictionQueryOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*LogsRestrictionQueryInput)(nil)).Elem(), &LogsRestrictionQuery{})
	pulumi.RegisterInputType(reflect.TypeOf((*LogsRestrictionQueryArrayInput)(nil)).Elem(), LogsRestrictionQueryArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*LogsRestrictionQueryMapInput)(nil)).Elem(), LogsRestrictionQueryMap{})
	pulumi.RegisterOutputType(LogsRestrictionQueryOutput{})
	pulumi.RegisterOutputType(LogsRestrictionQueryArrayOutput{})
	pulumi.RegisterOutputType(LogsRestrictionQueryMapOutput{})
}
